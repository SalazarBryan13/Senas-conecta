<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Se√±asConecta - Aprende se√±as b√°sicas">
    <title>Se√±asConecta - Se√±as B√°sicas</title>

    <style>
        /* ============================================
           SE√ëASCONECTA - SE√ëAS B√ÅSICAS
           Paleta: Amanecer C√°lido (Naranja, Amarillo, Celeste)
           ============================================ */

        /* Importar fuente */
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Fredoka+One&display=swap');

        /* Paleta Amanecer - Optimizada para accesibilidad y daltonismo */
        :root {
            --sunrise-orange-deep: #D35400;
            --sunrise-orange: #E67E22;
            --sunrise-orange-light: #F39C12;
            --sunrise-yellow: #F1C40F;
            --sunrise-yellow-light: #F9E79F;
            --sunrise-peach: #FDEBD0;
            --sunrise-sky: #85C1E9;
            --sunrise-sky-light: #AED6F1;
            --sunrise-sky-deep: #5DADE2;
            --sunrise-cream: #FFF9E6;
            --sunrise-text: #5D4E37;
            --sunrise-success: #58D68D;
            --sunrise-error: #E74C3C;
            /* Colores de texto con mejor contraste para WCAG 2.2 AA */
            --sunrise-text-dark: #2C1F15;
            --sunrise-orange-dark: #8B3500;
            --sunrise-orange-text: #A04000;
            /* Colores optimizados para daltonismo - mejor diferenciaci√≥n por luminosidad */
            --sunrise-orange-accessible: #C0392B;
            --sunrise-yellow-accessible: #F7DC6F;
        }

        /* Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Fondo s√≥lido oscuro (WCAG-friendly) */
        body {
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: #0B1220;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 1.5rem;
        }

        /* Desactivar decoraci√≥n de fondo anterior */
        body::before {
            content: none;
        }

        main {
            width: 100%;
            max-width: 480px;
            position: relative;
            z-index: 1;
        }

        .container {
            background: linear-gradient(145deg,
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(255, 249, 230, 0.98) 50%,
                    rgba(253, 235, 208, 0.95) 100%);
            backdrop-filter: blur(15px);
            border-radius: 28px;
            padding: 1.75rem;
            box-shadow:
                0 20px 60px rgba(211, 84, 0, 0.25),
                0 10px 30px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(241, 196, 15, 0.3);
            animation: containerEnter 0.5s ease-out;
        }

        @keyframes containerEnter {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.98);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* T√≠tulo */
        .screen-title {
            font-family: 'Fredoka One', 'Nunito', sans-serif;
            font-size: 1.5rem;
            font-weight: 400;
            color: #000000;
            text-align: center;
            margin-bottom: 1.25rem;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
        }

        /* Barra de progreso */
        .lesson-progress {
            background: linear-gradient(180deg, #FFF9E6 0%, #F9E79F 100%);
            border-radius: 20px;
            padding: 4px;
            margin-bottom: 1.25rem;
            border: 1px solid rgba(243, 156, 18, 0.3);
        }

        .lesson-progress .progress-bar {
            background: linear-gradient(90deg,
                    var(--sunrise-yellow) 0%,
                    var(--sunrise-orange-light) 50%,
                    var(--sunrise-orange) 100%);
            border-radius: 16px;
            height: 14px;
            box-shadow: 0 2px 8px rgba(243, 156, 18, 0.5);
            width: 20%;
            transition: width 0.5s ease;
            border: 2px solid var(--sunrise-orange-dark);
        }

        .lesson-progress .progress-text {
            color: #000000;
            font-weight: 700;
            font-size: 0.8rem;
            display: block;
            text-align: center;
            margin-top: 0.5rem;
        }

        /* √Årea de ilustraci√≥n */
        .sign-illustration-area {
            background: linear-gradient(135deg, var(--sunrise-cream) 0%, #FFFBF0 100%);
            border: 2px solid var(--sunrise-yellow-light);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.25rem;
            text-align: center;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Video de la se√±a */
        .sign-video-container {
            width: 100%;
            max-width: 280px;
            margin-bottom: 0.75rem;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            background: #000;
        }

        .sign-video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 12px;
        }

        .sign-emoji {
            font-size: 4rem;
            margin-bottom: 0.5rem;
        }

        .sign-description {
            color: #000000;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 0.5rem;
        }

        /* Bot√≥n replay */
        .replay-btn {
            background: linear-gradient(135deg, var(--sunrise-sky-light) 0%, var(--sunrise-sky) 100%);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            margin-top: 0.5rem;
            box-shadow: 0 3px 10px rgba(93, 173, 226, 0.4);
            transition: transform 0.2s;
        }

        .replay-btn:hover {
            transform: scale(1.1);
        }

        /* Instrucci√≥n */
        .instruction-container {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: linear-gradient(135deg, var(--sunrise-cream) 0%, #FFFBF0 100%);
            border: 2px solid var(--sunrise-yellow-light);
            border-left: 4px solid var(--sunrise-orange);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .instruction-text {
            flex: 1;
            color: #000000;
            font-weight: 600;
            margin: 0;
        }

        /* Bot√≥n de ayuda */
        .help-button-inline {
            background: linear-gradient(135deg, var(--sunrise-sky-light) 0%, var(--sunrise-sky) 100%);
            border: 2px solid var(--sunrise-sky-deep);
            border-radius: 50%;
            color: white;
            font-weight: 800;
            font-size: 1rem;
            width: 34px;
            height: 34px;
            min-width: 34px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(93, 173, 226, 0.4);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .help-button-inline:hover {
            transform: scale(1.1);
        }

        /* Tooltip */
        .tooltip {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, var(--sunrise-sky-deep) 0%, var(--sunrise-sky) 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 20px;
            max-width: 320px;
            width: 90%;
            z-index: 9999;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: tooltipAppear 0.3s ease-out;
            border: 2px solid var(--sunrise-sky-light);
        }

        .tooltip.active {
            display: block;
        }

        .tooltip-title {
            font-family: 'Fredoka One', sans-serif;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            color: var(--sunrise-yellow);
        }

        .tooltip p {
            margin: 0;
            line-height: 1.7;
        }

        @keyframes tooltipAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* Opciones de respuesta */
        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 0.65rem;
            margin-bottom: 1.25rem;
        }

        .answer-option {
            background: linear-gradient(135deg, var(--sunrise-cream) 0%, #FFFBF0 100%);
            border: 2px solid var(--sunrise-yellow-light);
            border-radius: 14px;
            color: #000000;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            padding: 1rem 1.25rem;
            padding-right: 3rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.25s ease;
            position: relative;
            overflow: hidden;
        }

        .answer-option::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--sunrise-orange);
            opacity: 0;
            transition: opacity 0.25s;
        }

        .answer-option:hover:not(:disabled) {
            border-color: var(--sunrise-orange);
            background: linear-gradient(135deg, #FFF 0%, var(--sunrise-yellow-light) 100%);
            transform: translateX(6px);
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.25);
        }

        .answer-option:hover::before {
            opacity: 1;
        }

        .answer-option.selected {
            background: linear-gradient(135deg, var(--sunrise-orange) 0%, var(--sunrise-orange-deep) 100%);
            border-color: var(--sunrise-orange-deep);
            color: white;
            box-shadow: 0 6px 20px rgba(211, 84, 0, 0.4);
        }

        .answer-option.selected::before {
            opacity: 1;
            background: var(--sunrise-yellow);
        }

        .answer-option.correct {
            background: linear-gradient(135deg, var(--sunrise-success) 0%, #48BB78 100%);
            border-color: #27AE60;
            border-width: 3px;
            color: white;
            position: relative;
        }

        .answer-option.correct::after {
            content: '‚úì';
            position: absolute;
            right: 1rem;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .answer-option.incorrect {
            background: linear-gradient(135deg, var(--sunrise-error) 0%, #C0392B 100%);
            border-color: #C0392B;
            border-width: 3px;
            color: white;
            position: relative;
        }

        .answer-option.incorrect::after {
            content: '‚úó';
            position: absolute;
            right: 1rem;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .answer-option:disabled {
            cursor: not-allowed;
        }

        /* Feedback */
        .feedback-message {
            display: none;
            background: var(--sunrise-cream);
            border: 2px solid var(--sunrise-yellow-light);
            border-left: 4px solid var(--sunrise-orange);
            border-radius: 14px;
            padding: 1.25rem;
            margin-bottom: 1rem;
            animation: fadeIn 0.4s ease;
        }

        .feedback-message.active {
            display: block;
        }

        .feedback-message.success {
            border-left-color: var(--sunrise-success);
            background: linear-gradient(135deg, #F0FFF4 0%, #D5F5E3 100%);
        }

        .feedback-message.error {
            border-left-color: var(--sunrise-error);
            background: linear-gradient(135deg, #FFF5F5 0%, #FADBD8 100%);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Bot√≥n primario */
        .btn-primary {
            display: block;
            width: 100%;
            background: linear-gradient(135deg,
                    var(--sunrise-orange-light) 0%,
                    var(--sunrise-orange) 50%,
                    var(--sunrise-orange-deep) 100%);
            border: none;
            border-radius: 14px;
            color: white;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            font-size: 1.05rem;
            padding: 1rem 1.5rem;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(211, 84, 0, 0.35);
            transition: all 0.25s ease;
            margin-top: 0.75rem;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(211, 84, 0, 0.45);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Bot√≥n volver */
        .back-link {
            display: block;
            width: 100%;
            text-align: center;
            background: transparent;
            border: 2px solid var(--sunrise-orange);
            border-radius: 12px;
            color: #000000;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            margin-top: 0.75rem;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .back-link:hover {
            background: var(--sunrise-orange);
            color: white;
        }

        /* Pantalla de resultados */
        .result-container {
            text-align: center;
        }

        .result-emoji {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .result-title {
            font-family: 'Fredoka One', sans-serif;
            font-size: 1.8rem;
            color: var(--sunrise-success);
            margin-bottom: 0.5rem;
        }

        .result-subtitle {
            color: #000000;
            margin-bottom: 1.5rem;
        }

        .stats-panel {
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, var(--sunrise-cream) 100%);
            border-radius: 16px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 2px solid var(--sunrise-yellow-light);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0 1.5rem;
        }

        .stat-icon {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--sunrise-orange-deep);
        }

        .stat-name {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--sunrise-text);
            opacity: 0.8;
            text-transform: uppercase;
        }

        .stat-divider {
            width: 1px;
            height: 40px;
            background: linear-gradient(180deg, transparent 0%, var(--sunrise-orange-light) 50%, transparent 100%);
        }

        /* Ocultar pantallas */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Utilidades */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>
</head>

<body>
    <!-- Skip link for screen reader accessibility -->
    <a href="#main-content" class="skip-link"
        style="position: absolute; top: -100px; left: 0; background: #F39C12; color: #fff; padding: 1rem; z-index: 10000; transition: top 0.3s;">Saltar
        al contenido principal</a>
    <style>
        .skip-link:focus {
            top: 0;
        }
    </style>

    <main id="main-content">
        <!-- Pantalla de Lecci√≥n -->
        <div id="lesson-screen" class="screen active">
            <div class="container">
                <h2 class="screen-title">ü§ü Lecci√≥n: Saludos b√°sicos</h2>

                <!-- Indicador de progreso -->
                <div class="lesson-progress" role="progressbar" aria-valuenow="20" aria-valuemin="0"
                    aria-valuemax="100">
                    <div class="progress-bar" id="lesson-progress-bar"></div>
                    <span class="progress-text" id="progress-text">Lecci√≥n 1 de 5</span>
                </div>

                <!-- √Årea de video de la se√±a -->
                <div class="sign-illustration-area">
                    <div class="sign-video-container">
                        <video class="sign-video" id="sign-video" controls loop playsinline>
                            <source src="assets/videos/signs/hola.mp4" type="video/mp4">
                            Tu navegador no soporta videos.
                        </video>
                    </div>
                    <p class="sign-description" id="sign-description">Se√±a: Hola</p>
                </div>

                <!-- Instrucci√≥n -->
                <div class="instruction-container">
                    <p class="instruction-text">Selecciona el significado correcto</p>
                    <button class="help-button-inline" id="help-btn" aria-label="Mostrar ayuda">
                        <span aria-hidden="true">?</span>
                    </button>
                </div>

                <!-- Opciones de respuesta -->
                <div class="answer-options" id="answer-options" role="radiogroup" aria-label="Opciones de respuesta">
                    <button class="answer-option" role="radio" aria-checked="false" data-answer="hola"
                        aria-label="Seleccionar opci√≥n: Hola">
                        üëã Hola
                    </button>
                    <button class="answer-option" role="radio" aria-checked="false" data-answer="gracias"
                        aria-label="Seleccionar opci√≥n: Gracias">
                        üôè Gracias
                    </button>
                    <button class="answer-option" role="radio" aria-checked="false" data-answer="adios"
                        aria-label="Seleccionar opci√≥n: Adi√≥s">
                        üëã Adi√≥s
                    </button>
                </div>

                <!-- Feedback -->
                <div class="feedback-message" id="feedback-message">
                    <p id="feedback-text"></p>
                </div>

                <!-- Botones -->
                <button class="btn-primary" id="continue-btn" disabled aria-label="Continuar a la siguiente lecci√≥n">
                    Continuar
                </button>

                <a href="index.html" class="back-link">‚Üê Volver al inicio</a>
            </div>
        </div>

        <!-- Pantalla de Resultados -->
        <div id="result-screen" class="screen">
            <div class="container result-container">
                <div class="result-emoji">üéâ</div>
                <h2 class="result-title">¬°Felicidades!</h2>
                <p class="result-subtitle">Has completado todas las 13 se√±as b√°sicas en lengua de se√±as. ¬°Excelente
                    trabajo!</p>

                <!-- Estad√≠sticas -->
                <div class="stats-panel">
                    <div class="stat-item">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-value" id="correct-count">0</div>
                        <div class="stat-name">Correctas</div>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <div class="stat-icon">ü§ü</div>
                        <div class="stat-value" id="signs-learned">13</div>
                        <div class="stat-name">Se√±as aprendidas</div>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-value" id="accuracy">0%</div>
                        <div class="stat-name">Precisi√≥n</div>
                    </div>
                </div>

                <!-- Solo bot√≥n volver -->
                <a href="index.html" class="back-link" style="margin-top: 1.5rem;">‚Üê Volver al inicio</a>
            </div>
        </div>

        <!-- Tooltip de ayuda -->
        <div class="tooltip" id="help-tooltip">
            <div class="tooltip-title">üí° Consejo</div>
            <p id="tooltip-content">Observa el movimiento de la mano. La se√±a "Hola" se hace levantando la mano abierta
                y movi√©ndola de lado a lado.</p>
        </div>
    </main>

    <script>
        // ============================================
        // SE√ëAS B√ÅSICAS - JavaScript
        // ============================================

        // Datos de las se√±as - Todos los 13 videos
        const lessons = [
            {
                video: 'assets/videos/signs/hola.mp4',
                sign: 'Hola',
                correct: 'hola',
                options: [
                    { text: 'üëã Hola', value: 'hola' },
                    { text: 'üôè Gracias', value: 'gracias' },
                    { text: 'üëã Adi√≥s', value: 'adios' }
                ],
                help: 'La se√±a "Hola" se hace levantando la mano abierta y movi√©ndola de lado a lado.',
                feedback: {
                    correct: '¬°Correcto! üëã Esta es la se√±a para "Hola".',
                    incorrect: 'Incorrecto. La se√±a que ves es "Hola".'
                }
            },
            {
                video: 'assets/videos/signs/gracias.mp4',
                sign: 'Gracias',
                correct: 'gracias',
                options: [
                    { text: 'üôè Gracias', value: 'gracias' },
                    { text: 'üëã Hola', value: 'hola' },
                    { text: 'üôè Por favor', value: 'porfavor' }
                ],
                help: 'La se√±a "Gracias" se hace llevando la mano desde la barbilla hacia afuera.',
                feedback: {
                    correct: '¬°Excelente! üôè Esta es la se√±a para "Gracias".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Gracias".'
                }
            },
            {
                video: 'assets/videos/signs/adios.mp4',
                sign: 'Adi√≥s',
                correct: 'adios',
                options: [
                    { text: 'üëã Adi√≥s', value: 'adios' },
                    { text: 'üëã Hola', value: 'hola' },
                    { text: 'üôè Por favor', value: 'porfavor' }
                ],
                help: 'La se√±a "Adi√≥s" es un gesto de despedida con la mano abierta.',
                feedback: {
                    correct: '¬°Muy bien! üëã Esta es la se√±a para "Adi√≥s".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Adi√≥s".'
                }
            },
            {
                video: 'assets/videos/signs/por-favor.mp4',
                sign: 'Por favor',
                correct: 'porfavor',
                options: [
                    { text: 'üôè Por favor', value: 'porfavor' },
                    { text: 'üôè Gracias', value: 'gracias' },
                    { text: 'üëã Permiso', value: 'permiso' }
                ],
                help: 'La se√±a "Por favor" se hace con las manos juntas movi√©ndose hacia adelante.',
                feedback: {
                    correct: '¬°Correcto! üôè Esta es la se√±a para "Por favor".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Por favor".'
                }
            },
            {
                video: 'assets/videos/signs/comoEstas.mp4',
                sign: '¬øC√≥mo est√°s?',
                correct: 'comoestas',
                options: [
                    { text: 'üëã ¬øC√≥mo est√°s?', value: 'comoestas' },
                    { text: 'ÔøΩ Est√° bien', value: 'estabien' },
                    { text: 'üëã Hola', value: 'hola' }
                ],
                help: 'La se√±a "¬øC√≥mo est√°s?" es una pregunta com√∫n para saludar.',
                feedback: {
                    correct: '¬°Perfecto! üëã Esta es la se√±a para "¬øC√≥mo est√°s?".',
                    incorrect: 'Incorrecto. Esta se√±a significa "¬øC√≥mo est√°s?".'
                }
            },
            {
                video: 'assets/videos/signs/estaBien.mp4',
                sign: 'Est√° bien',
                correct: 'estabien',
                options: [
                    { text: 'üëç Est√° bien', value: 'estabien' },
                    { text: 'üëã ¬øC√≥mo est√°s?', value: 'comoestas' },
                    { text: 'üôè Gracias', value: 'gracias' }
                ],
                help: 'La se√±a "Est√° bien" indica conformidad o aceptaci√≥n.',
                feedback: {
                    correct: '¬°Excelente! üëç Esta es la se√±a para "Est√° bien".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Est√° bien".'
                }
            },
            {
                video: 'assets/videos/signs/perdon.mp4',
                sign: 'Perd√≥n',
                correct: 'perdon',
                options: [
                    { text: 'üôè Perd√≥n', value: 'perdon' },
                    { text: 'üôè Por favor', value: 'porfavor' },
                    { text: 'üôè Gracias', value: 'gracias' }
                ],
                help: 'La se√±a "Perd√≥n" se usa para disculparse.',
                feedback: {
                    correct: '¬°Correcto! üôè Esta es la se√±a para "Perd√≥n".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Perd√≥n".'
                }
            },
            {
                video: 'assets/videos/signs/despacio.mp4',
                sign: 'Despacio',
                correct: 'despacio',
                options: [
                    { text: '‚è≥ Despacio', value: 'despacio' },
                    { text: '‚è±Ô∏è R√°pido', value: 'rapido' },
                    { text: '‚è∏Ô∏è Espera', value: 'espera' }
                ],
                help: 'La se√±a "Despacio" indica que algo debe hacerse lentamente.',
                feedback: {
                    correct: '¬°Muy bien! ‚è≥ Esta es la se√±a para "Despacio".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Despacio".'
                }
            },
            {
                video: 'assets/videos/signs/d√≥nde.mp4',
                sign: '¬øD√≥nde?',
                correct: 'donde',
                options: [
                    { text: 'üìç ¬øD√≥nde?', value: 'donde' },
                    { text: '‚ùì ¬øQu√©?', value: 'que' },
                    { text: 'üë§ ¬øQui√©n?', value: 'quien' }
                ],
                help: 'La se√±a "¬øD√≥nde?" se usa para preguntar por ubicaci√≥n.',
                feedback: {
                    correct: '¬°Perfecto! üìç Esta es la se√±a para "¬øD√≥nde?".',
                    incorrect: 'Incorrecto. Esta se√±a significa "¬øD√≥nde?".'
                }
            },
            {
                video: 'assets/videos/signs/cu√°ndo.mp4',
                sign: '¬øCu√°ndo?',
                correct: 'cuando',
                options: [
                    { text: '‚è∞ ¬øCu√°ndo?', value: 'cuando' },
                    { text: 'üìç ¬øD√≥nde?', value: 'donde' },
                    { text: '‚ùì ¬øPor qu√©?', value: 'porque' }
                ],
                help: 'La se√±a "¬øCu√°ndo?" se usa para preguntar por el tiempo.',
                feedback: {
                    correct: '¬°Excelente! ‚è∞ Esta es la se√±a para "¬øCu√°ndo?".',
                    incorrect: 'Incorrecto. Esta se√±a significa "¬øCu√°ndo?".'
                }
            },
            {
                video: 'assets/videos/signs/qui√©n.mp4',
                sign: '¬øQui√©n?',
                correct: 'quien',
                options: [
                    { text: 'üë§ ¬øQui√©n?', value: 'quien' },
                    { text: '‚ùì ¬øQu√©?', value: 'que' },
                    { text: 'üìç ¬øD√≥nde?', value: 'donde' }
                ],
                help: 'La se√±a "¬øQui√©n?" se usa para preguntar por una persona.',
                feedback: {
                    correct: '¬°Correcto! üë§ Esta es la se√±a para "¬øQui√©n?".',
                    incorrect: 'Incorrecto. Esta se√±a significa "¬øQui√©n?".'
                }
            },
            {
                video: 'assets/videos/signs/por-qu√©.mp4',
                sign: '¬øPor qu√©?',
                correct: 'porque',
                options: [
                    { text: '‚ùì ¬øPor qu√©?', value: 'porque' },
                    { text: '‚è∞ ¬øCu√°ndo?', value: 'cuando' },
                    { text: 'üë§ ¬øQui√©n?', value: 'quien' }
                ],
                help: 'La se√±a "¬øPor qu√©?" se usa para preguntar la raz√≥n de algo.',
                feedback: {
                    correct: '¬°Muy bien! ‚ùì Esta es la se√±a para "¬øPor qu√©?".',
                    incorrect: 'Incorrecto. Esta se√±a significa "¬øPor qu√©?".'
                }
            },
            {
                video: 'assets/videos/signs/porFavorNecesitoInformacion.mp4',
                sign: 'Por favor, necesito informaci√≥n',
                correct: 'necesitoinformacion',
                options: [
                    { text: 'üìù Necesito informaci√≥n', value: 'necesitoinformacion' },
                    { text: '‚ùì ¬øPuedes ayudarme?', value: 'ayuda' },
                    { text: 'üôè Por favor', value: 'porfavor' }
                ],
                help: 'Esta frase combina "Por favor" con "Necesito informaci√≥n".',
                feedback: {
                    correct: '¬°Excelente! üìù Esta es la se√±a para "Por favor, necesito informaci√≥n".',
                    incorrect: 'Incorrecto. Esta se√±a significa "Por favor, necesito informaci√≥n".'
                }
            }
        ];

        // Estado del juego
        let currentLesson = 0;
        let correctAnswers = 0;
        let selectedAnswer = null;

        // Elementos del DOM
        const lessonScreen = document.getElementById('lesson-screen');
        const resultScreen = document.getElementById('result-screen');
        const signVideo = document.getElementById('sign-video');
        const signDescription = document.getElementById('sign-description');
        const answerOptions = document.getElementById('answer-options');
        const feedbackMessage = document.getElementById('feedback-message');
        const feedbackText = document.getElementById('feedback-text');
        const continueBtn = document.getElementById('continue-btn');
        const progressBar = document.getElementById('lesson-progress-bar');
        const progressText = document.getElementById('progress-text');
        const helpBtn = document.getElementById('help-btn');
        const helpTooltip = document.getElementById('help-tooltip');
        const tooltipContent = document.getElementById('tooltip-content');

        // Obtener configuraci√≥n de subt√≠tulos desde localStorage
        function getSubtitlesSetting() {
            try {
                const saved = localStorage.getItem('senasconecta-settings');
                if (saved) {
                    const settings = JSON.parse(saved);
                    return settings.showSubtitles !== false; // Por defecto true
                }
            } catch (e) {
                console.error('Error leyendo configuraci√≥n:', e);
            }
            return true; // Por defecto mostrar subt√≠tulos
        }

        // Inicializar
        function init() {
            loadLesson(currentLesson);
            setupEventListeners();
        }

        // Cargar lecci√≥n
        function loadLesson(index) {
            const lesson = lessons[index];

            // Cargar video
            signVideo.src = lesson.video;
            signVideo.load();
            signVideo.play();

            // Aplicar configuraci√≥n de subt√≠tulos
            const showSubtitles = getSubtitlesSetting();
            if (showSubtitles) {
                signDescription.textContent = `Se√±a: ${lesson.sign}`;
                signDescription.style.display = 'block';
            } else {
                signDescription.textContent = '';
                signDescription.style.display = 'none';
            }
            tooltipContent.textContent = lesson.help;

            // Limpiar opciones anteriores
            answerOptions.innerHTML = '';

            // Crear opciones
            lesson.options.forEach(option => {
                const btn = document.createElement('button');
                btn.className = 'answer-option';
                btn.setAttribute('role', 'radio');
                btn.setAttribute('aria-checked', 'false');
                btn.setAttribute('data-answer', option.value);
                btn.setAttribute('aria-label', `Seleccionar opci√≥n: ${option.text}`);
                btn.textContent = option.text;
                btn.addEventListener('click', () => handleAnswer(btn, option.value));
                answerOptions.appendChild(btn);
            });

            // Actualizar progreso
            const progress = ((index + 1) / lessons.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `Lecci√≥n ${index + 1} de ${lessons.length}`;

            // Resetear estado
            selectedAnswer = null;
            feedbackMessage.classList.remove('active', 'success', 'error');
            continueBtn.disabled = true;
        }

        // Manejar respuesta
        function handleAnswer(button, answer) {
            if (selectedAnswer !== null) return;

            selectedAnswer = answer;
            const lesson = lessons[currentLesson];
            const isCorrect = answer === lesson.correct;

            // Actualizar aria-checked: marcar el seleccionado como true, los dem√°s como false
            document.querySelectorAll('.answer-option').forEach(btn => {
                if (btn === button) {
                    btn.setAttribute('aria-checked', 'true');
                } else {
                    btn.setAttribute('aria-checked', 'false');
                }
                btn.disabled = true;
            });

            // Marcar respuesta
            button.classList.add(isCorrect ? 'correct' : 'incorrect');

            // Si es incorrecta, mostrar la correcta
            if (!isCorrect) {
                document.querySelector(`[data-answer="${lesson.correct}"]`).classList.add('correct');
            } else {
                correctAnswers++;
            }

            // Mostrar feedback
            feedbackText.textContent = isCorrect ? lesson.feedback.correct : lesson.feedback.incorrect;
            feedbackMessage.classList.add('active', isCorrect ? 'success' : 'error');

            // Habilitar continuar
            continueBtn.disabled = false;
        }

        // Configurar event listeners
        function setupEventListeners() {
            continueBtn.addEventListener('click', () => {
                currentLesson++;
                if (currentLesson < lessons.length) {
                    loadLesson(currentLesson);
                } else {
                    showResults();
                }
            });

            helpBtn.addEventListener('click', () => {
                helpTooltip.classList.toggle('active');
                setTimeout(() => {
                    helpTooltip.classList.remove('active');
                }, 4000);
            });
        }

        // Mostrar resultados
        function showResults() {
            lessonScreen.classList.remove('active');
            resultScreen.classList.add('active');

            document.getElementById('correct-count').textContent = correctAnswers;
            document.getElementById('signs-learned').textContent = lessons.length;
            document.getElementById('accuracy').textContent = `${Math.round((correctAnswers / lessons.length) * 100)}%`;
        }

        // Iniciar
        init();
    </script>
</body>

</html>